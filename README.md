# LLM Assistant Telegram Bot

**LLM Assistant** ‚Äî —ç—Ç–æ Telegram-–±–æ—Ç –Ω–∞ –±–∞–∑–µ [aiogram 3.21](https://docs.aiogram.dev/en/latest/) —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö LLM API (ProxyAPI.ru, Giga.Chat, Yandex –∏ –¥—Ä.).  
–ë–æ—Ç –∑–∞–¥—É–º–∞–Ω –∫–∞–∫ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –ª–∏—á–Ω—ã–π –ø–æ–º–æ—â–Ω–∏–∫: —Å —Å–∏—Å—Ç–µ–º–Ω—ã–º –ø—Ä–æ–º–ø—Ç–æ–º, –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Ä–∞–∑–Ω—ã—Ö —è–∑—ã–∫–æ–≤—ã—Ö –º–æ–¥–µ–ª–µ–π –∏ –º–æ–¥—É–ª—å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è.

---

## üß∞ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- –ë—ã—Å—Ç—Ä–æ –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∏—Å–ø–æ–ª—å–∑—É—è LLM API (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é ProxyAPI).
- –õ–µ–≥–∫–æ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è –Ω–∞ –¥—Ä—É–≥–∏–µ LLM —Å–µ—Ä–≤–∏—Å—ã (Giga.Chat, Yandex –∏ –ª—é–±—ã–µ, –¥–ª—è –∫–æ—Ç–æ—Ä—ã—Ö –µ—Å—Ç—å API).
- –°–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç: –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç —Å—Ç–∏–ª—å –∏ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏ (–±—ã—Å—Ç—Ä—ã–π, –æ—Å—Ç—Ä–æ—É–º–Ω—ã–π, —Ñ–æ–∫—É—Å –Ω–∞ –±—É–¥—É—â–µ–µ).
- –ß–∏—Å—Ç–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ ‚Äî –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Ñ–∏—á–∏ –∏ —Å–µ—Ä–≤–∏—Å—ã.
- –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤ —á–µ—Ä–µ–∑ `.env`.
- –õ–µ–≥–∫–∏–π –∑–∞–ø—É—Å–∫ –∏ –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è.

---

## üì¶ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```plaintext
my_llm_bot/
‚îú‚îÄ‚îÄ bot/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ config.py            # –†–∞–±–æ—Ç–∞ —Å .env –∏ —Ç–æ–∫–µ–Ω–∞–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ llm_clients/         # –ö–ª–∏–µ–Ω—Ç—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ LLM API
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ base.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ proxyapi.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ gigachat.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ yandex.py
‚îÇ   ‚îú‚îÄ‚îÄ handlers/            # Telegram-–æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ main.py
‚îÇ   ‚îú‚îÄ‚îÄ middlewares/         # (–ü—É—Å—Ç–æ, –Ω–∞ –±—É–¥—É—â–µ–µ: –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, throttle, user-state)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ utils/               # (–ü—É—Å—Ç–æ, –Ω–∞ –±—É–¥—É—â–µ–µ: —Ö–µ–ª–ø–µ—Ä—ã, —Ñ–æ—Ä–º–∞—Ç—Ç–µ—Ä—ã)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ system_prompt.py     # –°–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç –¥–ª—è LLM
‚îÇ   ‚îî‚îÄ‚îÄ main.py              # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞, –∑–∞–ø—É—Å–∫ –±–æ—Ç–∞
‚îú‚îÄ‚îÄ .env_example             # –ü—Ä–∏–º–µ—Ä –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ requirements.txt         # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞
‚îî‚îÄ‚îÄ README.md                # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (—ç—Ç–æ—Ç —Ñ–∞–π–ª)
```

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

1. **–°–∫–ª–æ–Ω–∏—Ä—É–π—Ç–µ –ø—Ä–æ–µ–∫—Ç**
    ```\bash
    git clone https://github.com/your-username/my_llm_bot.git
    cd my_llm_bot
    ```
2. **–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª –æ–∫—Ä—É–∂–µ–Ω–∏—è**
    ```\bash
    cp .env_example .env
    ```
    –ò –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –≤–∞—à–∏ —Ç–æ–∫–µ–Ω—ã –≤ `.env`:

    ```
    BOT_TOKEN=telegram_bot_token
    PROXYAPI_TOKEN=your_proxyapi_token
    GIGACHAT_TOKEN=your_gigachat_token
    YANDEX_TOKEN=your_yandex_token
    LLM_DEFAULT=proxyapi
    ```

3. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**
    ```bash
    pip install -r requirements.txt
    ```

4. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞**
    ```bash
    python -m bot.main
    ```
    –ë–æ—Ç –∑–∞—Ä–∞–±–æ—Ç–∞–µ—Ç ‚Äî –Ω–∞–ø–∏—à–∏—Ç–µ –µ–º—É –≤ Telegram!

---

## ‚öôÔ∏è –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

`.env_example` —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:

- `BOT_TOKEN` ‚Äî —Ç–æ–∫–µ–Ω –≤–∞—à–µ–≥–æ Telegram-–±–æ—Ç–∞
- `PROXYAPI_TOKEN` ‚Äî —Ç–æ–∫–µ–Ω –¥–ª—è —Å–µ—Ä–≤–∏—Å–∞ ProxyAPI.ru
- `GIGACHAT_TOKEN` ‚Äî —Ç–æ–∫–µ–Ω –¥–ª—è Giga.Chat
- `YANDEX_TOKEN` ‚Äî —Ç–æ–∫–µ–Ω –¥–ª—è –Ø–Ω–¥–µ–∫—Å LLM
- `LLM_DEFAULT` ‚Äî –∫–∞–∫–∞—è LLM –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (`proxyapi`, `gigachat` –∏–ª–∏ `yandex`)

---

## üßë‚Äçüíª –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ –¥–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### 1. LLM –ö–ª–∏–µ–Ω—Ç—ã (`bot/llm_clients/`)

–ö–∞–∂–¥—ã–π API-–∫–ª–∏–µ–Ω—Ç —Ä–µ–∞–ª–∏–∑—É–µ—Ç –æ–±—â–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `BaseLLMClient` –∏ –∏–º–µ–µ—Ç –º–µ—Ç–æ–¥ `ask(prompt, system_prompt)`.
- **ProxyAPI** ‚Äî –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω (–≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ)
- **Giga.Chat –∏ Yandex** ‚Äî —à–∞–±–ª–æ–Ω—ã, —Ç—Ä–µ–±—É—é—Ç –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –¥–ª—è —Ñ–∏–Ω–∞–ª—å–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏  
  (–ø—Ä–æ—Å—Ç–æ –∫–∏–Ω—å—Ç–µ API-–¥–æ–∫—É, –∏ —è –¥–æ–ø–∏—à—É —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é!)

–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ ‚Äî –ø—Ä–æ—Å—Ç–æ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –ª—é–±–æ–π –∫–ª–∏–µ–Ω—Ç, —Ä–µ–∞–ª–∏–∑—É–π—Ç–µ –º–µ—Ç–æ–¥, –¥–æ–±–∞–≤—å—Ç–µ –≤ `LLM_CLIENTS` (—Å–º. `__init__.py`).

### 2. –°–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç (`bot/system_prompt.py`)

–£–ø—Ä–∞–≤–ª—è–µ—Ç —Å—Ç–∏–ª–µ–º –º–æ–¥–µ–ª–∏. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é ‚Äî –±—ã—Å—Ç—Ä—ã–π, –æ—Å—Ç—Ä–æ—É–º–Ω—ã–π, –∞–∫—Ü–µ–Ω—Ç –Ω–∞ –±—É–¥—É—â–µ–µ.  
–í—ã –º–æ–∂–µ—Ç–µ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —ç—Ç–æ—Ç –ø—Ä–æ–º–ø—Ç –¥–ª—è —Å–≤–æ–∏—Ö –∑–∞–¥–∞—á.

### 3. –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ (`bot/handlers/main.py`)

- `/start` ‚Äî –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ
- –õ—é–±–æ–π —Ç–µ–∫—Å—Ç ‚Äî –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è LLM, –æ—Ç–≤–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ –≤—ã–±—Ä–∞–Ω–Ω—É—é –º–æ–¥–µ–ª—å.

### 4. –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞ (`bot/main.py`)

–í—Å–µ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø—Ä–æ—Å—Ç–æ: –ø–æ–¥–∫–ª—é—á–∞–µ—Ç —Ç–æ–∫–µ–Ω, –¥–∏—Å–ø–µ—Ç—á–µ—Ä aiogram, —Ä–æ—É—Ç–µ—Ä, –∑–∞–ø—É—Å–∫–∞–µ—Ç polling.

---

## üß© –ö–∞–∫ –ø–æ–¥–∫–ª—é—á–∏—Ç—å –Ω–æ–≤—ã–µ LLM

1. **–î–æ–±–∞–≤—å—Ç–µ —Ñ–∞–π–ª –≤ `bot/llm_clients/yourllm.py`**  
   –†–µ–∞–ª–∏–∑—É–π—Ç–µ –∫–ª–∞—Å—Å —Å –º–µ—Ç–æ–¥–æ–º `ask`, –∫–æ—Ç–æ—Ä—ã–π –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å –≤ –≤–∞—à LLM API –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–µ–∫—Å—Ç –æ—Ç–≤–µ—Ç–∞.

2. **–ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –∫–ª–∞—Å—Å –≤ `llm_clients/__init__.py`**  
   –î–æ–±–∞–≤—å—Ç–µ –µ–≥–æ –≤ —Å–ª–æ–≤–∞—Ä—å `LLM_CLIENTS`.

3. **–î–æ–±–∞–≤—å—Ç–µ —Ç–æ–∫–µ–Ω –≤ `.env`** (–µ—Å–ª–∏ –Ω—É–∂–µ–Ω).

4. **–ü—Ä–æ—Ñ–∏—Ç!**

---

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —Ç–æ–∫–µ–Ω–æ–≤

**–ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ —Ä–µ–∞–ª—å–Ω—ã–π `.env` –≤ –ø—É–±–ª–∏—á–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π!**  
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `.env_example` –¥–ª—è –ø—Ä–∏–º–µ—Ä–∞, –∞ .env ‚Äî –¥–ª—è —Ä–µ–∞–ª—å–Ω—ã—Ö –∫–ª—é—á–µ–π.

---

## üí° –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è –∏ —Ä–∞–∑–≤–∏—Ç–∏–µ

- –•–æ—Ç–∏—Ç–µ –≤—ã–±—Ä–∞—Ç—å LLM –Ω–∞ –ª–µ—Ç—É? –î–æ–±–∞–≤—å—Ç–µ –ø–∞—Ä—Å–µ—Ä –∫–æ–º–∞–Ω–¥ (`/llm gigachat`).
- –•–æ—Ç–∏—Ç–µ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π, –ø–∞–º—è—Ç—å, voice-to-text? –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ª–µ–≥–∫–æ —Ä–∞—Å—à–∏—Ä—è–µ—Ç—Å—è.
- –õ—é–±–æ–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫, –∫–æ–º–∞–Ω–¥–∞ –∏–ª–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –≤ `handlers/`.

---

## üõ†Ô∏è –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞-–æ—Ç–≤–µ—Ç–∞

**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:**  
\> –ü—Ä–∏–¥—É–º–∞–π —Å–º–µ—à–Ω—É—é —à—É—Ç–∫—É –ø—Ä–æ –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç –∏ —Ö–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫.

**–ë–æ—Ç:**  
\> –ü–æ—á–µ–º—É —Ö–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫ –Ω–µ –±–æ–∏—Ç—Å—è –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–∞?  
\> –ü–æ—Ç–æ–º—É —á—Ç–æ –∑–Ω–∞–µ—Ç: –µ—Å–ª–∏ —á—Ç–æ ‚Äî –ø—Ä–æ—Å—Ç–æ ‚Äú–∑–∞–≤–∏—Å–Ω–µ—Ç‚Äù!

---

## üìù TODO & –ø–ª–∞–Ω—ã –Ω–∞ –±—É–¥—É—â–µ–µ

- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É Giga.Chat –∏ Yandex
- [ ] –î–æ–±–∞–≤–∏—Ç—å inline-–≤—ã–±–æ—Ä –º–æ–¥–µ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Ç—Ä–µ–∫–∏–Ω–≥ –ª–∏–º–∏—Ç–æ–≤
- [ ] (–ü–æ –∂–µ–ª–∞–Ω–∏—é) –ö—Ä–∞—Å–∏–≤–∞—è web-–∞–¥–º–∏–Ω–∫–∞

---

## üßë‚Äçüîß –ö–æ–Ω—Ç–∞–∫—Ç—ã –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞

- –í–æ–ø—Ä–æ—Å—ã –ø–æ –∫–æ–¥—É, –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è ‚Äî –ø–∏—à–∏—Ç–µ issue –∏–ª–∏ PR.
- –•–æ—á–µ—Ç—Å—è –∫–∞—Å—Ç–æ–º–Ω—ã–π –ø—Ä–æ–µ–∫—Ç –∏–ª–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é –ø–æ–¥ –∫–ª—é—á? –ü–∏—à–∏—Ç–µ [—Å—é–¥–∞](mailto:RoKols2017@email.com).

---

## üëæ –ë—ã—Ç—å –Ω–∞ —à–∞–≥ –≤–ø–µ—Ä–µ–¥–∏ ‚Äî –ª–µ–≥–∫–æ, –µ—Å–ª–∏ —Ç–≤–æ–π –±–æ—Ç –Ω–∞ LLM!  
**–ö–æ–¥ –æ—Ç–∫—Ä—ã—Ç –¥–ª—è –±—É–¥—É—â–µ–≥–æ. –û—Å—Ç–∞–≤–ª—è–π—Ç–µ feedback ‚Äî –≤–º–µ—Å—Ç–µ —Å–¥–µ–ª–∞–µ–º –∫—Ä—É—á–µ!**
